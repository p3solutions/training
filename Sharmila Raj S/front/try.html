<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Administration - D360</title>

<link rel="icon" href="./D360 logo.png">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>

<style>

  body {

    font-family: Arial, sans-serif;

    background-color: rgb(133, 171, 250);

    margin: 0;

    padding: 0;

  }

  .navbar {

    position: sticky;

    background-color: rgb(84, 161, 216);

    display: flex;

    align-items: center; /* Vertically align items */

   justify-content: space-between;   /*Distribute space between items */

  }

  .navbar a {

    float: left;

    display: block;

    color: white;

    text-align: center;

    padding: 25px 16px;

    text-decoration: none;

  }

  .navbar a:hover {

    background-color: #ddd;

    border-radius: 15px;

    color: black;

  }

  .navbar .logo {

    float: left;

    padding: 30px 16px;

  }

  .navbar .logo img {

    height: 40px; /* Adjust the height as needed */

  }

 

  .profile-dropdown button {

    background-color: transparent;

    border: none;

  }

  .dropdown {

    position: relative;

    display: inline-block;

  }

 

  .dropdown-content {

    display: none;

    position: absolute;

    background-color: white;

    min-width: 160px;

    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);

    z-index: 1;

  }

 

  .dropdown:hover .dropdown-content {

    display: block;

  }

 

  /* profile dropdown */

  .profile-dropdown{

    float: right;

    margin: 20px;

    padding: 20px 20px;

    background-color: transparent;

    border: none;

    position: relative;

  }

 

  .profile-dropdown-content {

    display: none;

    position: absolute;

    background-color:  transparent;

    min-width: 160px;

    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);

    right: 0;

    z-index: 1;

  }

 

  .profile-dropdown:hover .profile-dropdown-content {

    display: block;

  }

/***************************************************************************************************/

.popup-container {

    display: none;

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background-color: rgba(0, 0, 0, 0.5);

    justify-content: center;

    align-items: center;

  }

 

  .popup-content {

    background-color: #fff;

    padding: 20px;

    border-radius: 10px;

    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);

    max-width: 400px;

    width: 80%;

    text-align: center;

  }

  .close-popup {

    position: relative;

    left: 52%;

    bottom: 12px;

    cursor: pointer;

    color: black;

   

  }

  .close-popup:hover{

    padding: 2%;

    border-radius: 6px;

    background-color: red;

  }

  /**********************************************************************/

  .popup-update-container {

    display: none;

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background-color: rgba(0, 0, 0, 0.5);

    justify-content: center;

    align-items: center;

  }

 

  .popup-update-content {

    background-color: #fff;

    padding: 20px;

    border-radius: 10px;

    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);

    max-width: 400px;

    width: 80%;

    text-align: center;

  }

  .close-update-popup {

    position: relative;

    left: 52%;

    bottom: 12px;

    cursor: pointer;

    color: black;

   

  }

  .close-update-popup:hover{

    padding: 2%;

    border-radius: 6px;

    background-color: red;

  }

  #table1{

    display: inline;

    text-align: center;

    left: 200px;

  }

</style>

</head>

<body>

 

<div class="navbar">

  <div class="logo">

    <img src="./D360 logo.png" alt="Logo">

  </div>

  <a href="#"><i class="fa-solid fa-folder fa-2xl"></i><br><br>Applications</a>

  <a href="#"><i class="fa-solid fa-users fa-2xl"></i><br><br>Administration</a>

  <a href="#"><i class="fa-solid fa-tv fa-xl"></i><br><br>Governance</a>

  <a href="#"><i class="fa-solid fa-wallet fa-2xl"></i><br><br>Finance</a>

  <a href="#"><i class="fa-solid fa-chart-pie fa-2xl"></i><br><br>Dashboards</a>        

  <a href="#"><i class="fa-regular fa-comment-dots fa-2xl"></i><br><br>Compliance</a>

  <div class="profile-dropdown dropdown">

    <button class="profile"><i class="fa-solid fa-bars fa-2xl"></i></button>

    <div class="profile-dropdown-content dropdown-content">

      <a href="#">Profile</a>

      <a href="#">Settings</a>

      <a href="./login.html">Sign Out</a>

    </div>

  </div>

</div>

<!--end of nav bar-->

 

<div style="padding: 20px;">

  <h1 style="text-align: center;">User List</h1>

 

  <!-- Button to open the modal -->

<input type="button" value="Add client" onclick="showPopup()">

<input type="button" value="Add client" onclick="showPopupUpdate()">

</div>

<!--Add user pop-->

<div class="popup-container" id="popupContainer">

    <div class="popup-content">

      <span class="close-popup" onclick="closePopup()">&times;</span>

      <h2>Add user</h2>

      <form action="ClientController" method="get">

        <input type="hidden" name="command" value="ADD" />

        <table id="addusertab">

            <tbody>

                <tr>

                    <td><label>User Name</label></td>

                    <td><input type="text" name="userName" /></td>

                </tr>

                <tr>

                    <td><label>First name:</label></td>

                    <td><input type="text" name="firstName" /></td>

                </tr>

                <tr>                    

                    <td><label>Middle name:</label></td>

                    <td><input type="text" name="middleName" /></td>

                </tr>                

                <tr>

                    <td><label>Last name:</label></td>

                    <td><input type="text" name="lastName" /></td>

                </tr>

                <tr>

                    <td><label>Email:</label></td>

                    <td><input type="text" name="email" /></td>

                </tr>

                <tr>

                    <td><label>Password</label></td>

                    <td><input type="text" name="password" /></td>

                </tr>

                <tr>

                    <td><label>Confirm password</label></td>

                    <td><input type="text" name="confirmpassword" /></td>

                </tr>

                <tr>

                    <td><label></label></td>

                    <td><input type="submit" value="Save" class="save" /></td>

                </tr>

            </tbody>

        </table>

    </form>

    </div>

  </div>

<!--user list content-->

<div id="usercontainer">

  <div id="usercontent">

    <label>Show</label>

    <select id="itemsPerPage" class="input-box"></select>
    

    <br /><br />

    <div id="table1">

    <table id="userviewtable" border="1">

      <tr>

        <th>UserName</th>

        <th>FirstName</th>

        <th>LastName</th>

        <th>Email</th>

        <th>Role</th>

        <th>Action</th>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>admin</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

      <tr>

        <td>adn</td>

        <td>Admin</td>

        <td>D3SixtyTool</td>

        <td>admin@platform3solutions.com</td>

        <td>D3SIXTY_SUPER_ADMIN</td>

        <td>

          <a href="Update-form.html">Update</a> | <a href="#">Delete</a>

        </td>

      </tr>

    </table>

  </div>

    <div id="pagination">

      <button id="prevButton">Previous</button>

      <div id="pageNumbers"></div>

      <button id="nextButton">Next</button>

    </div>

  </div>

</div>

 

 

<!--update client pop-->

<div class="popup-update-container" id="updateContainer">

  <div class="popup-update-content">

    <span class="close-update-popup" onclick="closePopupUpdate()">&times;</span>

    <h2>Update user</h2>

    <form action="ClientController" method="get">

      <input type="hidden" name="command" value="UPDATE" />

      <input type="hidden" name="clientId" value="${Client_list.id}" />

        <table>

          <tbody>

            <tr>

              <td><label>User name:</label></td>

              <td><input type="text" name="userName" value="${Client_list.userName}" /></td>

            </tr>

            <tr>

              <td><label>First name:</label></td>

              <td><input type="text" name="firstName" value="${Client_list.firstName}" /></td>

            </tr>

            <tr>

              <td><label>Middle name:</label></td>

              <td><input type="text" name="middleName" value="${Client_list.middleName}" /></td>

            </tr>

            <tr>

              <td><label>Last name:</label></td>

              <td><input type="text" name="lastName" value="${Client_list.lastName}" /></td>

            </tr>            

            <tr>

              <td><label>Email:</label></td>

              <td><input type="text" name="email" value="${Client_list.email}" /></td>

            </tr>

            <tr>

              <td><label>Role</label></td>            

              <td> <select id="options" name="role">

                <option value="admin" <c:if test="${Client_list.role eq 'admin'}"></c:if>Admin</option>

                <option value="client" <c:if test="${Client_list.role eq 'client'}"></c:if>Client</option>

            </select>

              </td>

            </tr>

            <tr>

              <td><label></label></td>

              <td><input type="submit" value="Save" class="save" /></td>

            </tr>

          </tbody>

        </table>

      </form>

    </div>

  </div>

 

<script>


function showPopup() {

      document.getElementById('popupContainer').style.display = 'flex';

    }

    function closePopup() {

      document.getElementById('popupContainer').style.display = 'none';

    }

// end of add user pop up

function showPopupUpdate() {

      document.getElementById('updateContainer').style.display = 'flex';

    }

    function closePopupUpdate() {

      document.getElementById('updateContainer').style.display = 'none';

    }

// end of update pop up

// starting of pagenation in user table

const table = document.querySelector("#userviewtable");

      const rows = Array.from(table.querySelectorAll("tr")).slice(1); // Exclude header row

      const itemsPerPageInput = document.getElementById("itemsPerPage");

      const pageNumbersDiv = document.getElementById("pageNumbers");

      const prevButton = document.getElementById("prevButton");

      const nextButton = document.getElementById("nextButton");

 

      let itemsPerPage = parseInt(itemsPerPageInput.value); // Number of items to display per page

      let currentPage = 0;

 

      function displayPage(page) {

        rows.forEach((row, index) => {

          row.style.display =

            index >= page * itemsPerPage && index < (page + 1) * itemsPerPage

              ? "table-row"

              : "none";

        });

      }

 

      function updatePageNumbers() {

        const totalPages = Math.ceil(rows.length / itemsPerPage);

        pageNumbersDiv.innerHTML = "";

        for (let i = 0; i < totalPages; i++) {

          const pageNumber = i + 1;

          const pageNumberButton = document.createElement("button");

          pageNumberButton.textContent = pageNumber;

          pageNumberButton.addEventListener("click", () => {

            goToPage(i);

          });

          pageNumbersDiv.appendChild(pageNumberButton);

        }

      }

 

      function goToPage(page) {

        currentPage = page;

        displayPage(currentPage);

        updatePageNumbers();

      }

 

      prevButton.addEventListener("click", () => {

        if (currentPage > 0) {

          goToPage(currentPage - 1);

        }

      });

 

      nextButton.addEventListener("click", () => {

        const totalPages = Math.ceil(rows.length / itemsPerPage);

        if (currentPage < totalPages - 1) {

          goToPage(currentPage + 1);

        }

      });

 

      itemsPerPageInput.addEventListener("change", () => {

        itemsPerPage = parseInt(itemsPerPageInput.value);

        currentPage = 0;

        displayPage(currentPage);

        updatePageNumbers();

      });

 

      displayPage(currentPage);

      updatePageNumbers();

// end of pagenation

function isStrongPassword(password) {

    // Constraints

    const minLength = 8;

    const maxLength = 20;

    const uppercaseRegex = /[A-Z]/;

    const lowercaseRegex = /[a-z]/;

    const digitRegex = /[0-9]/;

    const specialCharacters = '!@#$%^&*()_+{}[]:;"\'<>,.?/~`-=';

 

    // Check length

    if (password.length < minLength || password.length > maxLength) {

        return false;

    }

 

    // Check for uppercase, lowercase, digit, and special character

    if (!uppercaseRegex.test(password) ||

        !lowercaseRegex.test(password) ||

        !digitRegex.test(password)) {

        return false;

    }

 

    // Check for at least one special character

    let hasSpecialCharacter = false;

    for (const char of password) {

        if (specialCharacters.includes(char)) {

            hasSpecialCharacter = true;

            break;

        }

    }

    if (!hasSpecialCharacter) {

        return false;

    }

 

    return true;

}

 

 

</script>

 

</div>

</body>

</html>

